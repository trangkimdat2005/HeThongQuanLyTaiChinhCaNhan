@{
    ViewData["Title"] = "Thêm Danh Mục Mới";
}
<link rel="stylesheet" href="~/admin/css/editUser.css" />
<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h3 class="fw-bold text-dark mb-0">Thêm Danh Mục Mới</h3>
        <p class="text-muted small mb-0">Tạo nhóm chi tiêu/thu nhập mặc định cho hệ thống</p>
    </div>
    <a href="/admin/categories.html" class="btn btn-outline-secondary">
        <i class="fas fa-arrow-left me-2"></i>Quay lại
    </a>
</div>

<div class="row">
    <div class="col-lg-4 mb-4">
        <div class="card border-0 shadow-sm h-100">
            <div class="card-body text-center d-flex flex-column justify-content-center align-items-center">
                <h6 class="fw-bold text-muted mb-4">Xem Trước Hiển Thị</h6>

                <div class="mobile-preview p-3 rounded-4 shadow-sm"
                     style="width: 280px; background-color: #fff; border: 1px solid #eee;">
                    <div class="d-flex align-items-center justify-content-between">
                        <div class="d-flex align-items-center">
                            <div id="previewBox" class="icon-box-lg me-3"
                                 style="background-color: #dc3545;">
                                <i id="previewIcon" class="fas fa-utensils text-white fa-lg"></i>
                            </div>
                            <div class="text-start">
                                <h6 class="fw-bold mb-0 text-dark" id="previewName">Tên danh mục</h6>
                                <small class="text-muted" id="previewType">Chi tiêu</small>
                            </div>
                        </div>
                        <div class="fw-bold text-danger">- 50.000 đ</div>
                    </div>
                </div>

                <div class="mt-4 text-muted small fst-italic">
                    <i class="fas fa-info-circle me-1"></i>
                    Đây là cách danh mục xuất hiện trong lịch sử giao dịch.
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-8">
        <div class="card border-0 shadow-sm">
            <div class="card-header bg-white py-3 border-bottom-0">
                <h5 class="fw-bold text-primary m-0">Thông Tin Chi Tiết</h5>
            </div>
            <div class="card-body pt-0">
                <form id="createCategoryForm">

                    <div class="mb-4">
                        <label class="form-label fw-bold small">
                            Tên Danh Mục <span class="text-danger">*</span>
                        </label>
                        <input type="text" class="form-control form-control-lg" id="catName"
                               placeholder="Ví dụ: Ăn uống, Xăng xe..." required>
                        <div class="form-text">Tên ngắn gọn, dễ hiểu (Tối đa 50 ký tự)</div>
                    </div>

                    <div class="mb-4">
                        <label class="form-label fw-bold small">
                            Loại Giao Dịch <span class="text-danger">*</span>
                        </label>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <input type="radio" class="btn-check" name="catType" id="typeExpense"
                                       value="Expense" checked>
                                <label class="btn btn-outline-danger w-100 p-3 rounded-3 d-flex align-items-center justify-content-center gap-2"
                                       for="typeExpense">
                                    <i class="fas fa-shopping-cart"></i> Khoản Chi (Expense)
                                </label>
                            </div>
                            <div class="col-md-6">
                                <input type="radio" class="btn-check" name="catType" id="typeIncome"
                                       value="Income">
                                <label class="btn btn-outline-success w-100 p-3 rounded-3 d-flex align-items-center justify-content-center gap-2"
                                       for="typeIncome">
                                    <i class="fas fa-money-bill-wave"></i> Khoản Thu (Income)
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-md-6 mb-3 mb-md-0">
                            <label class="form-label fw-bold small">Màu Sắc (Color)</label>
                            <div class="d-flex align-items-center">
                                <input type="color" class="form-control form-control-color shadow-sm"
                                       id="catColor" value="#dc3545" title="Chọn màu">
                                <span class="ms-2 text-muted small" id="colorCode">#dc3545</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-bold small">Biểu Tượng (Icon)</label>
                            <select class="form-select" id="catIcon">
                                <option value="fa-question">-- Chọn biểu tượng --</option>
                                <optgroup label="Chi Tiêu">
                                    <option value="fa-utensils" selected>Ăn uống (Utensils)</option>
                                    <option value="fa-shopping-cart">Mua sắm (Shopping)</option>
                                    <option value="fa-home">Nhà cửa (Home)</option>
                                    <option value="fa-car">Di chuyển (Car)</option>
                                    <option value="fa-pills">Y tế (Health)</option>
                                    <option value="fa-graduation-cap">Giáo dục (Edu)</option>
                                    <option value="fa-gamepad">Giải trí (Game)</option>
                                </optgroup>
                                <optgroup label="Thu Nhập">
                                    <option value="fa-money-bill">Tiền lương (Salary)</option>
                                    <option value="fa-gift">Thưởng/Quà (Gift)</option>
                                    <option value="fa-chart-line">Đầu tư (Invest)</option>
                                    <option value="fa-hand-holding-usd">Được cho/tặng</option>
                                </optgroup>
                            </select>
                        </div>
                    </div>

                    <hr class="text-muted opacity-25">

                    <div class="text-end">
                        <button type="button" class="btn btn-light me-2" onclick="resetForm()">
                            Làm
                            mới
                        </button>
                        <button type="submit" class="btn btn-primary px-5 fw-bold shadow-sm">
                            <i class="fas fa-save me-2"></i>Lưu Danh Mục
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script src="~/admin/js/editUser.js"></script>
}