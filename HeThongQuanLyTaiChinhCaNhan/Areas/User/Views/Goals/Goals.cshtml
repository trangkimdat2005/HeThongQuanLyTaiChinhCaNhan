

<link href="~/user/css/Goals.css" rel="stylesheet" />


<div class="d-flex justify-content-between align-items-center mb-4">
	<div>
		<h3 class="fw-bold text-dark mb-0">Mục Tiêu Tài Chính</h3>
		<p class="text-muted small mb-0">Tích lũy cho những dự định tương lai</p>
	</div>
	<button class="btn btn-primary shadow-sm fw-bold rounded-pill px-4" onclick="openGoalModal('add')">
		<i class="fas fa-plus me-2"></i> Tạo Mục Tiêu
	</button>
</div>

<div class="row g-4 mb-4">
	<div class="col-md-6">
		<div class="card border-0 shadow-sm bg-primary text-white h-100 overflow-hidden position-relative">
			<div class="card-body">
				<div class="text-white-50 small text-uppercase fw-bold">Tổng Tiền Đã Tiết Kiệm</div>
				<h2 class="fw-bold mb-0 mt-2" id="totalSavedDisplay">0 đ</h2>
				<i class="fas fa-piggy-bank position-absolute opacity-25" style="font-size: 5rem; bottom: -10px; right: 10px;"></i>
			</div>
		</div>
	</div>
	<div class="col-md-6">
		<div class="card border-0 shadow-sm h-100">
			<div class="card-body d-flex align-items-center justify-content-between">
				<div>
					<div class="text-muted small text-uppercase fw-bold">Tiến độ chung</div>
					<h2 class="fw-bold text-dark mb-0 mt-2" id="totalProgressDisplay">0%</h2>
				</div>
				<div style="width: 80px; height: 80px;">
					<canvas id="overallProgressChart"></canvas>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="row g-4" id="goalList">
</div>

<div class="modal fade" id="goalModal" tabindex="-1">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content border-0 shadow">
			<div class="modal-header border-bottom-0 pb-0">
				<h5 class="modal-title fw-bold text-primary" id="goalModalTitle">Mục Tiêu Mới</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
			</div>
			<div class="modal-body pt-3">
				<form id="goalForm">
					<input type="hidden" id="goalID">

					<div class="mb-3">
						<label class="form-label fw-bold small">Tên Mục Tiêu <span class="text-danger">*</span></label>
						<input type="text" class="form-control" id="goalName" placeholder="VD: Mua Laptop, Du lịch..." required>
					</div>

					<div class="mb-3">
						<label class="form-label fw-bold small">Số Tiền Cần Đạt (Target) <span class="text-danger">*</span></label>
						<div class="input-group">
							<input type="number" class="form-control fw-bold text-primary" id="targetAmount" required>
							<span class="input-group-text bg-light text-muted fw-bold">VNĐ</span>
						</div>
					</div>

					<div class="mb-3">
						<label class="form-label fw-bold small">Trạng thái</label>
						<select class="form-select" id="goalStatus">
							<option value="Đang thực hiện">Đang thực hiện</option>
							<option value="Tạm dừng">Tạm dừng</option>
							<option value="Hoàn thành">Hoàn thành</option>
						</select>
					</div>

					<div class="text-end mt-4 pt-2 border-top">
						<button type="button" class="btn btn-light me-2" data-bs-dismiss="modal">Hủy</button>
						<button type="submit" class="btn btn-primary px-4 fw-bold shadow-sm">Lưu</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="depositModal" tabindex="-1">
	<div class="modal-dialog modal-sm modal-dialog-centered">
		<div class="modal-content border-0 shadow">
			<div class="modal-header bg-success text-white">
				<h5 class="modal-title fw-bold fs-6"><i class="fas fa-coins me-2"></i>Nạp Tiết Kiệm</h5>
				<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
			</div>
			<div class="modal-body">
				<form id="depositForm">
					<input type="hidden" id="depositGoalID">

					<div class="text-center mb-3">
						<div class="small text-muted">Đang nạp vào:</div>
						<div class="fw-bold text-success fs-5" id="depositGoalName">...</div>
					</div>

					<div class="mb-3">
						<label class="form-label fw-bold small">Lấy tiền từ Ví</label>
						<select class="form-select form-select-sm" id="depositWallet" required>
						</select>
					</div>

					<div class="mb-3">
						<label class="form-label fw-bold small">Số tiền nạp</label>
						<input type="number" class="form-control fw-bold text-success text-center" id="depositAmount" placeholder="0" required>
					</div>

					<div class="mb-3">
						<label class="form-label fw-bold small">Ghi chú</label>
						<input type="text" class="form-control form-control-sm" id="depositNote" placeholder="VD: Để dành tháng 1">
					</div>

					<button type="submit" class="btn btn-success w-100 fw-bold shadow-sm">Xác Nhận Nạp</button>
				</form>
			</div>
		</div>
	</div>
</div>


<script src="~/user/js/Goals.js"></script>
